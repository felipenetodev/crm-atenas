<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{master/base}">
<h3 layout:fragment="page-title">Usuários</h3>
<h3 layout:fragment="form-title">Atualização</h3>
<div layout:fragment="content">
    <form th:action="@{save}" method="POST" th:object="${usuario}" id='formUsuario'>
        <div class="form-group">
            <label for="Nome"> Nome: </label> <input class="form-control" id="Nome" th:field="*{nomeCompleto}" required />
        </div>

        <div class="form-group">
            <label for="login"> Nome de Usuário: </label> <input class="form-control" id="login" th:field="*{login}" required readonly/>
        </div>

        <div class="row">
            <div class="col-sm-3">
                <div class="form-group">
                    <label for="CPF"> Permissões: </label>
                    <select class="form-control" id="roles" th:field="*{roles}" required>
					<option th:each="role : ${roles}" 
						th:value="${role.getNomeRole()}" 
						th:text="${role.getNome()}" 
						th:selected="${role.getNome() == roleAtual}"></option>
					</select>
                </div>
            </div>

            <div class="col-sm-9">
                <div class="form-group">
                    <label for="CPF"> CPF: </label>
                    <input class="form-control" id="CPF" th:field="*{cpf}" required />
                </div>
            </div>

            <div class="col-sm-9">
                <div class="form-group">
                    <input class="form-control" id="senha" th:field="*{senha}" th:value="123456" required hidden/>
                </div>
            </div>

        </div>
        <div class="form-check">
            <input type="checkbox" class="form-check-input" id="resetSenha">
            <label class="form-check-label" for="resetSenha"> Redefinir Senha ? </label>
        </div>
        <br>
        <div class="form-group">
            <button type="submit" class="btn btn-primary">Enviar</button>
            <button type="reset" onclick="window.location.href='/usuario/todos'" class="btn btn-danger">Cancelar</button>
            <br>
            <span th:if="${mensagem != null}" th:text="${mensagem}"></span>
        </div>
    </form>
</div>